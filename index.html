<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SnarkyJS Typescript Example</title>
  </head>
  <body>
    <script type="module">
      import init, * as plonk_wasm from "./node_modules/@o1labs/snarkyjs-web/dist/plonk_wasm.js";
      window.plonk_wasm = plonk_wasm;
      await init();
      plonk_wasm
        .initThreadPool(navigator.hardwareConcurrency)
        .then(function () {
          var newScript = document.createElement("script");
          newScript.src =
            "./node_modules/@o1labs/snarkyjs-web/dist/snarkyjs_chrome_bindings.js";
          document.body.appendChild(newScript);
          newScript.addEventListener("load", () => {
            var newScript = document.createElement("script");
            newScript.src =
              "./node_modules/@o1labs/snarkyjs-web/dist/snarkyjs_chrome.js";
            document.body.appendChild(newScript);

            var tsScript = document.createElement("script");
            tsScript.src = "dist/bundle.js";
            document.body.appendChild(tsScript);
          });
        });
    </script>
    <!-- <script type="module" src="./plonk_init.js"></script> -->
  </body>
</html>
